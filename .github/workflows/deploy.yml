name: GitHub Actions test
run-name: ${{ github.actor }} is testing out GitHub Actions 🚀
on: [push]
jobs:
  Explore-GitHub-Actions:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v4
      - name: Setup node
        uses: actions/setup-node@v3
        with:
          node-version: 20 # 指定node版本
      - name: Build
        run: |
          cd / # 进入前端侧的工程目录
          npm add -D vitepress # 安装依赖
          # npm run docs:build # 打包前端代码到生产环境（目标路径为：server/public）​
      - name: Push
        run: |
          git config user.name JuckyLee668
          git config user.email 2794920709@qq.com
      - run: git add .
      - run: git commit -m "github action auto push"
      - run: git switch -c dist
      - run: git push -f origin dist
        env: # PUSH 权限要求
          github_token: ${{ secrets.PUSH_KEY }}
